# Requirements Document

## Project Description (Input)
コミット収集画面でプロジェクトを選択する時、文字を入力して絞り込めるようにしたい

## Requirements

### Requirement 1: プロジェクト検索入力機能
**Objective:** As a ユーザー, I want プロジェクト選択時に文字を入力して検索できる, so that 大量のプロジェクトから目的のプロジェクトを素早く見つけられる

#### Acceptance Criteria
1. When ユーザーがプロジェクト選択フィールドをクリックする, the コミット収集画面 shall 検索入力フィールドを表示する
2. When ユーザーが検索入力フィールドに文字を入力する, the コミット収集画面 shall 入力された文字列を保持する
3. While 検索入力フィールドにフォーカスがある, the コミット収集画面 shall 入力された文字列をリアルタイムで表示する
4. The コミット収集画面 shall 検索入力フィールドに適切なプレースホルダーテキスト（例: "プロジェクトを検索..."）を表示する

### Requirement 2: プロジェクトフィルタリング機能
**Objective:** As a ユーザー, I want 入力した文字列でプロジェクト一覧を絞り込める, so that 目的のプロジェクトを素早く見つけられる

#### Acceptance Criteria
1. When ユーザーが検索入力フィールドに文字を入力する, the コミット収集画面 shall プロジェクト一覧を入力された文字列でフィルタリングする
2. When フィルタリングが実行される, the コミット収集画面 shall プロジェクト名（`name_with_namespace`）に検索文字列が含まれるプロジェクトのみを表示する
3. When 検索文字列が空の場合, the コミット収集画面 shall すべてのプロジェクトを表示する
4. When 検索文字列に一致するプロジェクトが存在しない場合, the コミット収集画面 shall "該当するプロジェクトが見つかりません" というメッセージを表示する
5. The コミット収集画面 shall フィルタリングを大文字小文字を区別せずに実行する
6. The コミット収集画面 shall フィルタリングを部分一致で実行する（前方一致、後方一致、中間一致すべてに対応）

### Requirement 3: プロジェクト選択機能の維持
**Objective:** As a ユーザー, I want 検索機能を追加しても既存のプロジェクト選択機能が正常に動作する, so that 既存のワークフローを維持できる

#### Acceptance Criteria
1. When ユーザーがフィルタリング結果からプロジェクトを選択する, the コミット収集画面 shall 選択されたプロジェクトのIDをフォームに設定する
2. When プロジェクトが選択される, the コミット収集画面 shall 選択されたプロジェクト名を表示する
3. When プロジェクトが選択される, the コミット収集画面 shall 検索入力フィールドを閉じる（または選択状態を表示する）
4. When フォームが送信される, the コミット収集画面 shall 選択されたプロジェクトIDを正しく送信する
5. When プロジェクトが選択されていない状態でフォームが送信される, the コミット収集画面 shall 既存のバリデーションエラーを表示する
6. The コミット収集画面 shall 既存のバリデーション機能（`errors.project_id`）を維持する

### Requirement 4: UI/UX要件
**Objective:** As a ユーザー, I want 検索機能が直感的で使いやすい, so that 効率的にプロジェクトを選択できる

#### Acceptance Criteria
1. When 検索入力フィールドが表示される, the コミット収集画面 shall プロジェクト一覧をドロップダウンまたはポップオーバー形式で表示する
2. When 検索結果が表示される, the コミット収集画面 shall スクロール可能なリストとして表示する
3. When 検索結果が多数ある場合, the コミット収集画面 shall 最大高さを設定し、スクロール可能にする
4. When ユーザーが検索入力フィールドの外側をクリックする, the コミット収集画面 shall 検索結果を閉じる
5. When ユーザーがEscapeキーを押す, the コミット収集画面 shall 検索結果を閉じる
6. The コミット収集画面 shall 検索入力フィールドとプロジェクト一覧が既存のデザインシステム（Tailwind CSS、Radix UI）と一貫性を保つ
7. The コミット収集画面 shall 検索入力フィールドに適切なアイコン（検索アイコンなど）を表示する
